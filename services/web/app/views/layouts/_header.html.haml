%header.header
  %nav.navbar.is-fixed-top.is-dark{'aria-label': 'main navigation', role: 'navigation'}
    .navbar-brand
      %a{href: root_path}
        %h4.navbar-item.title.is-4.is-marginless.has-text-white
          = Clickr
          - if current_user&.school_class&.name
            \- #{current_user.school_class.name}
    .navbar-menu
      .navbar-start
        = link_to lesson_executions_path, class: "navbar-item #{'is-active' if controller_name == 'lesson_executions'}" do
          .icon
            = icon('fas', 'play')
          %div Give lesson
        .navbar-item.has-dropdown.is-hoverable
          .navbar-link Admin
          .navbar-dropdown
            = link_to school_classes_path, class: "navbar-item #{'is-active' if controller_name == 'school_classes'}" do
              .icon
                = icon('fas', 'users')
              .is-hidden-touch Classes
            = link_to lessons_path, class: "navbar-item #{'is-active' if controller_name == 'lessons'}" do
              .icon
                = icon('fas', 'paper-plane')
              %div Lessons
            = link_to students_path, class: "navbar-item #{'is-active' if controller_name == 'students'}" do
              .icon
                = icon('fas', 'user')
              %div Students
            = link_to questions_path, class: "navbar-item #{'is-active' if controller_name == 'questions'}" do
              .icon
                = icon('fas', 'question')
              %div Questions
            = link_to student_device_mappings_path, class: "navbar-item #{'is-active' if controller_name == 'student_device_mappings'}" do
              .icon
                = icon('fas', 'map-signs')
              %div Mappings
            = link_to clicks_path, class: "navbar-item #{'is-active' if controller_name == 'clicks'}" do
              .icon
                = icon('fas', 'bolt')
              %div Clicks
            = link_to question_responses_path, class: "navbar-item #{'is-active' if controller_name == 'question_responses'}" do
              .icon
                = icon('fas', 'reply')
              %div Responses
      .navbar-end
        - if user_signed_in?
          .navbar-item.has-dropdown.is-hoverable.is-right
            %a.navbar-link
              = current_user&.school_class&.name || 'Select a class'
            .navbar-dropdown
              - SchoolClass.all.each do |school_class|
                = link_to school_class.name, users_school_class_path(school_class_id: school_class.id), method: :put, remote: true, class: 'navbar-item'
          .navbar-item
            = link_to 'Log out', destroy_user_session_path, method: :delete, class: 'button is-light'
        - else
          .navbar-item
            .buttons
              = link_to 'Sign up', new_user_registration_path, class: 'button is-primary'
              = link_to 'Log in', new_user_session_path, class: 'button is-light'