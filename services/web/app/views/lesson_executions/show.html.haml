- if @suggest_creating_new_lesson
  .notification.is-warning
    = t('.create_new_lesson_text')

    -# TODO Show potential errors on this page
    = form_with model: Lesson.new, local: true do |f|
      = f.text_field :name, value: "#{@school_class.name} - #{I18n.l Date.today, format: :short}"
      = hidden_field :redirect_back, true
      = f.submit_primary t('.create_new_lesson_submit')

.panel
  .panel-heading
    %h3.title.is-size-4= t('.title', lesson_name: @lesson&.name)
    - if @question
      %h1.title= t('lesson_executions.show.question_title', question: @question&.name)
  .panel-block
    -# TODO Show potential errors on this page
    = form_with model: Question.new, local: true do |f|
      = f.text_field :name, value: @default_question_name
      = hidden_field :redirect_back, true
      = hidden_field_tag :browser_window_id, @browser_window_id
      = f.submit_primary t('.ask_question_submit')

= render 'seating_plans/seating_plan', school_class: @school_class, seating_plan: @seating_plan, edit: @edit, browser_window_id: @browser_window_id

.has-text-centered
  - if @edit
    = link_to t('.done_editing_seating_plan'), { edit_seating_plan: nil }, class: 'button is-primary'
  - else
    = link_to t('.edit_seating_plan'), { edit_seating_plan: true }, class: 'button is-primary'